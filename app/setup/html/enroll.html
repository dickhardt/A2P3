<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>A2P3</title>
	<meta name="description" content="A2P3">
	<meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1,user-scalable=no">
	<link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.0/themes/base/jquery-ui.css">
	<script type="text/javascript" src="http://code.jquery.com/jquery-1.9.0.js"></script>
<script type="text/javascript" src="http://code.jquery.com/ui/1.10.0/jquery-ui.js"></script>
</head>
<body>
	<header class="header">
		<section class="headerContainer">
			<a href="http://a2p3.net"><img class="headerLogo" alt="A2P3" src="/images/a2p3_logo.png" border="0"></a>
			<span class="mainTitle">Setup</span>
			<div class="mainTitleText">Getting started with your A2P3 experience</div>
		</section>
	</header>

	<section class="mainContent">
		<div class="mainContentWrap">

			<div class="mainContentSubTitle">User Enrollment</div>
			<div class="mainContentSubTitleTwo">You may edit the information you are enrolling in the set of stand-alone resource servers listed here.  Applications that are developed by others may request your authorization for access to the information made available through each resource server.  Please avoid using any genuine personal identifiers and do not use any information that you would be concerned about if it became disclosed publicly on the internet.</div>
			<div class="mainContentDoubleWrap">
				<form method="post" id="profileForm" action="/enroll/register">
					<div class="enrollSection">
						<div class="categoryTitle">Email Resource Server</div>
						<div class="categoryTitleDetail">The email address is copied from the facebook account you used to login with.  If you wish to use another email address please do so by changing to a different facebook account or changing the email address using facebook's account settings.</div>
						<div class="formItemWrap">
							<span class="formItemTitle">Email Address</span> <span
								class="formItem"> <input disabled class="textEmail"
								for="email_input" id="email"></input>
							</span>
						</div>

					</div>
					<div class="enrollSection">
						<div class="categoryTitle">
							<span id="peopleServerLabel">People Resource Server</span>
						</div>
						<div class="categoryTitleDetail">You may edit the information to your preference.  The digital image is copied from the profile of the facebook account used to login.  To modify this you should cancel enrollment, make the change using facebook's account settings and then restart the A2P3 setup process.</div>
						<div class="formItemWrap">
							<span class="formItemTitle">Name</span> <span class="formItem">
								<input type="text" id="name_input" placeholder="Your name"
								class="textName" name="name">
							</span>
						</div>
						<div class="formItemWrap">
							<span class="formItemTitle">Address Line 1</span> <span
								class="formItem"> <input type="text"
								id="address1_input" placeholder="Address Line 1"
								class="textAddress" name="address1">
							</span>
						</div>
						<div class="formItemWrap">
							<span class="formItemTitle">Address Line 2</span><span
								class="formItem"> <input type="text"
								id="address2_input" placeholder="Address Line 2"
								class="textAddress" name="address2">
							</span>
						</div>
						<div class="formItemWrap">
							<span class="formItemTitle">City</span> <span class="formItem">
								<input type="text" id="city_input" placeholder="City"
								class="textCity" name="city">
							</span>
						</div>
						<div class="formItemProvince">
							<span class="formItemTitle">Province</span> <span
								class="dropDownStyle"> <select class="provinceSelect"
								name="province" id="province_input">
									<option value="ON">Ontario</option>
									<option value="QC">Quebec</option>
									<option value="NT">Northwest Territories</option>
									<option value="BC">British Columbia</option>
									<option value="AB">Alberta</option>
									<option value="SK">Saskatchewan</option>
									<option value="MN">Manitoba</option>
									<option value="YU">Yukon</option>
									<option value="NF">Newfoundland and Labrador</option>
									<option value="NB">New Brunswick</option>
									<option value="NS">Nova Scotia</option>
									<option value="PE">Prince Edward Island</option>
									<option value="NU">Nunavut</option>
							</select></span>
						</div>
						<div class="formItemWrap">
							<span class="formItemTitle">Postal</span> <span class="formItem">
								<input type="text" id="postal_input" placeholder="Postal Code"
								class="textPostal" name="postal">
							</span>
						</div>
						<div class="formItemWrap">
							<span class="formItemTitle">Date of Birth</span> <span
								class="formItem"> <input id="dob_input"
								placeholder="Date of Birth" class="textDOB" name="dob">
							</span>
						</div>
						<div class="formItemWrap">
							<span class="formItemTitleImage">Image</span> <span
								class="formItemImage"> <img class="photoImage"
								src="/images/white-face.jpg" alt="" id="photo" border="1">
							</span>
						</div>
					</div>
					<div class="enrollSection">
						<div class="categoryTitle">Social Insurance Resource Server
						</div>
						<div class="categoryTitleDetail">Please set a ficticious value to simulate a social insurance number.</div>
						<div class="formItemWrap">
							<span class="formItemTitle">Social Insurance Number</span> <span
								class="formItem"> <input type="text" id="si_input"
								placeholder="SIN (XXX XXX XXX)" class="textSIN" name="si">
							</span>
						</div>
					</div>
					<div class="enrollSection">
						<div class="categoryTitle">
							<span id="healthServerLabel">Health Resource Server</span>
						</div>
						<div class="categoryTitleDetail">Please set a ficticious value to simulate a personal health number.</div>
						<div class="formItemWrap">
							<span class="formItemTitle">Health Number</span> <span
								class="formItem"> <input type="text"
								id="prov_number_input" placeholder="Health Number"
								class="textHealth" name="prov_number">
							</span>
						</div>
					</div>
					<div class="formItemButtonWrap">
						<span class="formItem"><input type="button" value="Cancel"
							onclick="javascript:window.location.href='/'" class="submitCancel"> </span> <span
							class="formItem"> <input type="submit" value="Enroll"
							ontouchstart="" class="submitEnroll">
						</span>
					</div>
				</form>
			</div>
		</div>
	</section>

	<section class="footerContent"></section>

	<script>
		function onReady() {

			var pickerOpts = {
				defaultDate : "+5",
				showOtherMonths : true,
				changeMonth : true,
				changeYear : true,
				showOn : "button",
				dateFormat : 'MM d, yy',
				buttonImage : "images/datepicker.png",
				buttonImageOnly : true
			};

			$("#provinceValue").change(
					function() {
						$('#peopleServerLabel').text(
								$(this).val()
										+ " People Resource Server")
						$('#healthServerLabel').text(
								$(this).val()
										+ " Health Resource Server")
					});


			$("#dob_input").datepicker(pickerOpts)
			// TBD -- set date in text field to Date Picker result

			$.post('enroll/profile', null, function(data, status) {
				if (status == 'success') {
					$.each( data, function( key ) {
						$('#' + key + '_input').val(data[key])
					})
					$('#email').val(data.email)
					$('#photo').attr('src', data.photo)
				}
			})

			// TBD - do not enable ENROLL button unless we have a Name, SIN and HN

		}
		$(document).ready(onReady)
	</script>
</body>
</html>




